<script>
  $(".save-btn").click(function () {
    var dir;
    var value;
    console.log("click!");
    const tab = $(".tab-wrap").find("li");
    for (var t in tab) {
      if ($(this).hasClass("active")) {
        dir = $(this).attr("value");
      }
    }
    dir = $(".active").attr("value");
    //console.log($(".active").attr("value"));
    let div_textarea = $(".div_textarea").not(".style");
    console.log(div_textarea);
    let textarea = document.querySelector(
      ".div_textarea:not(.style) .CodeMirror"
    );
    value = textarea.CodeMirror.getValue();

    // 정상
    //console.log("dir="+dir+"value"+value);

    socket.emit("save", dir, value);

    const instance = axios.create({
      // baseURL: process.env.VUE_APP_API_URL,
      baseURL: "http://127.0.0.1:80/",
    });
    console.log("commit!!");
    instance.post("compiler/commit", {
      imageId = imageId;
      containerId = containerId;
      tagId = tagId;
      language = language;
      questionId = questionId;
      answerId = answerId;
    });
  });

  $(".exit-btn").click(function () {
    const instance = axios.create({
      baseURL: "http://127.0.0.1:80/",
    });
    console.log("disconnect!!");
    instance.put("compiler/disconnect", {
      imageId = imageId;
      containerId = containerId;
      tagId = tagId;
      language = language;
      questionId = questionId;
      answerId = answerId;
    });
  });
</script>
